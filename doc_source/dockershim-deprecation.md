# `Dockershim` deprecation<a name="dockershim-deprecation"></a>

Kubernetes has deprecated `Dockershim` support with plans to completely remove the runtime in Kubernetes v1.24. Amazon EKS will be ending support for Dockershim starting with the Kubernetes version 1\.23 launch\. Officially published Amazon EKS AMIs will include `containerd` as the only runtime starting with version 1\.23\. At the time of writing, this is targeted for end of the second quarter of 2022\. EKS AMIs running Kubernetes versions 1\.17 thru 1\.21 use Docker as the default runtime, but have a bootstrap flag option that lets you test out your workloads on any supported cluster today with `containerd`\. For more information, see [Enable the `containerd` runtime bootstrap flag](eks-optimized-ami.md#containerd-bootstrap)\.

We'll continue to publish AMIs for existing Kubernetes versions until their end of support date, as shown on the [Amazon EKS Kubernetes release calendar](kubernetes-versions.md#kubernetes-release-calendar)\. If you need more time to test your workloads on `containerd`, you can stay on a supported version prior to 1\.23 and still be fully supported\. But before you upgrade official Amazon EKS AMIs to version 1\.23, make sure to validate that your workloads run on `containerd`\. 

If you want to upgrade to version 1\.23 or higher and still use `Dockershim`, you'll need to build your own AMI with Docker installed\. However, when Kubernetes removes `Dockershim` support (currently planned for v1.24), you'll have to make the move to `containerd` to remain on a supported version\. For more information, see [Kubernetes is Moving on From Dockershim: Commitments and Next Steps](https://kubernetes.io/blog/2022/01/07/kubernetes-is-moving-on-from-dockershim/) on the *Kubernetes Blog*\.

The `containerd` runtime provides better performance and security, and it's the runtime we're standardizing on across Amazon EKS \(Fargate and Bottlerocket already use `containerd` only\)\. We believe `containerd` provides a better experience, and it minimizes the number of Amazon EKS AMI releases required to address `Dockershim` [Common Vulnerabilities and Exposures](https://cve.mitre.org/) \(CVEs\)\. As `Dockershim` already uses `containerd` internally, you may not need to make any changes\. However, there are some situations where changes may be required:
+ You will need to make changes for any application that mounts the Docker socket\. For example, building container images using a container will be impacted\. Many monitoring tools also mount the Docker socket, such as Datadog\. You may have to wait for updates or re\-deploy workloads for runtime monitoring\.
+ You may need to make changes for any application that's reliant on specific Docker settings\. For example, using `HTTPS_PROXY` can require changes\. For more information, see [dockerd](https://docs.docker.com/engine/reference/commandline/dockerd/) in the *Docker Docs*\.
+ If you're using the Amazon ECR credential helper to pull images, you will need to switch to the `kubelet` image credential provider\. For more information, see [Configure a kubelet image credential provider](https://kubernetes.io/docs/tasks/kubelet-credential-provider/kubelet-credential-provider/) in the Kubernetes documentation\.
